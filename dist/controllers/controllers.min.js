kimama.controller("A1Ctrl",function(){}),kimama.controller("A2Ctrl",function(){}),kimama.controller("A3Ctrl",["$scope",function(e){}]),kimama.controller("A3_1Ctrl",["$scope","$ionicHistory",function(e,t){e.goBack=function(){t.goBack(-1)},e.share=function(){alert("分享的接口")}}]),kimama.controller("A4Ctrl",["$scope","MainService",function(e,t){e.info={catName:"NEWSFEED",lists:[],desc:"",page:1,limit:10,loadMore:null,domore:!1};({catName:e.info.catName,limit:e.info.limit,page:e.info.page});e.info.loadMore=function(){t.content.lists({catName:e.info.catName,limit:e.info.limit,page:e.info.page}).then(function(n){if(n.lists.length<1)return e.info.domore=!0,void e.$broadcast("scroll.infiniteScrollComplete");for(index in n.lists)n.lists[index].desc=t.tool.toWrapStr(n.lists[index].desc,40),n.lists[index].created_dt=t.tool.timeStr(n.lists[index].created_dt);e.info.lists.push.apply(e.info.lists,n.lists),e.info.page++,console.log(e.info.lists),e.$broadcast("scroll.infiniteScrollComplete")})}}]),kimama.controller("A4_1Ctrl",["$scope","$ionicHistory","MainService","$stateParams",function(e,t,n,o){function i(){t.goBack(-1)}e.share=function(){alert("分享的接口")},e.detail={goBack:i,content:""},n.content.detail({id:o.id}).then(function(t){e.detail.content=t,console.log(t),wx.ready(function(){wx.onMenuShareTimeline({title:e.detail.content.title,link:e.detail.content.share_link,imgUrl:"",success:function(){},cancel:function(){}})})})}]),kimama.controller("A5Ctrl",["$scope","MainService",function(e,t){e.info=t.tool.getUserInfo("userinfo"),console.log(e.info)}]),kimama.controller("A5_1Ctrl",["$scope","$ionicHistory","MainService",function(e,t,n){e.goBack=function(){t.goBack(-1)},e.info={lists:[],desc:""};({catName:e.info.catName,limit:e.info.limit,page:e.info.page});n.content.getUserArticle().then(function(t){console.log(t);for(index in t)t[index].desc=n.tool.toWrapStr(t[index].desc,40),t[index].created_dt=n.tool.getFullDate(t[index].created_dt);e.info.lists=t,console.log(e.info.lists)})}]),kimama.controller("A5_1_0Ctrl",["$scope","$ionicHistory","$stateParams","MainService",function(e,t,n,o){e.goBack=function(){t.goBack(-1)};var i={id:""};e.detail={content:""};var i={id:n.id};o.content.detail(i).then(function(t){t.created_dt=o.tool.getYmdDate(t.created_dt),e.detail.content=t,console.log(e.detail.content)})}]),kimama.controller("A5_1_1Ctrl",["$scope","$ionicHistory","MainService","$http",function(e,t,n,o){function i(t){n.content.getUserArticle(t).then(function(t){console.log(t);for(index in t)t[index].desc=n.tool.toWrapStr(t[index].desc,40),t[index].created_dt=n.tool.getFullDate(t[index].created_dt),e.info.lists.push(t[index])})}e.goBack=function(){t.goBack(-1)};var a=["TIPS_ZERO_TWO","TIPS_THREE_FOUR","TIPS_FIVE_SIX","TIPS_SEVEN_EIGHT"];e.info={lists:[],desc:""},i({on_cat:a[0]}),i({on_cat:a[1]}),i({on_cat:a[2]}),i({on_cat:a[3]})}]),kimama.controller("A5_1_2Ctrl",["$scope","$ionicHistory","MainService",function(e,t,n){function o(t){n.content.getUserArticle(t).then(function(t){console.log(t);for(index in t)t[index].desc=n.tool.toWrapStr(t[index].desc,40),t[index].created_dt=n.tool.getFullDate(t[index].created_dt),e.info.lists.push(t[index])})}e.goBack=function(){t.goBack(-1)};var i=["TRAVEL_ZERO_TWO","TRAVEL_THREE_FOUR","TRAVEL_FIVE_SIX","TRAVEL_SEVEN_EIGHT"];e.info={lists:[],desc:""},o({on_cat:i[0]}),o({on_cat:i[1]}),o({on_cat:i[2]}),o({on_cat:i[3]})}]),kimama.controller("A5_1_3Ctrl",["$scope","$ionicHistory","MainService",function(e,t,n){function o(t){n.content.getUserArticle(t).then(function(t){console.log(t);for(index in t)t[index].desc=n.tool.toWrapStr(t[index].desc,40),t[index].created_dt=n.tool.getFullDate(t[index].created_dt),e.info.lists.push(t[index])})}e.goBack=function(){t.goBack(-1)};var i=["ANSWER_ZERO_TWO","ANSWER_THREE_FOUR","ANSWER_FIVE_SIX","ANSWER_SEVEN_EIGHT"];e.info={lists:[],desc:""},o({on_cat:i[0]}),o({on_cat:i[1]}),o({on_cat:i[2]}),o({on_cat:i[3]})}]),kimama.controller("A5_2Ctrl",["$scope","$ionicHistory","MainService",function(e,t,n){e.goBack=function(){t.goBack(-1)},e.info=[],n.user.invitedList().then(function(t){console.log(t),e.info=t})}]),kimama.controller("A5_3Ctrl",["$scope","$ionicHistory","$ionicActionSheet","$timeout","ionicDatePicker","FileUploader","MainService","$location",function(e,t,n,o,i,a,l,c){function r(){n.show({buttons:[{text:"<img src='img/boys.png' /> "},{text:"<img src='img/default.png' /> "},{text:"<img src='img/grils.png' /> "}],titleText:"性别选择<i>x</i>",cancelText:"取消",cancel:function(){console.log("取消")},buttonClicked:function(t){switch(console.log(t),t){case 0:console.log("男"),e.info.gender="男";break;case 1:console.log("保密"),e.info.gender="保密";break;case 2:console.log("女"),e.info.gender="女"}return!0},cssClass:"freePopup"})}function s(){i.openDatePicker(f)}e.goBack=function(){t.goBack(-1)},e.info={nickname:"",birthday:"",gender:"",headimg:"",delivery_address:"",profession:"",education:""},l.user.info().then(function(t){e.info.nickname=t.nickname,e.info.birthday=l.tool.getYmdDate(t.birthday),e.info.gender=t.gender,console.log(e.info.gender),e.info.delivery_address=t.delivery_address,e.info.profession=t.profession,e.info.education=t.education,console.log(t)});var d={nickname:"",birthday:"",gender:"",headimg:"",delivery_address:"",profession:"",education:""};e.addbaby=!1,e.submit=function(){d.nickname=e.info.nickname,d.delivery_address=e.info.delivery_address,d.profession=e.info.profession,d.education=e.info.education,d.gender=e.info.gender,d.birthday=e.info.birthday,console.log(d.birthday),l.user.updateProfile(d).then(function(e){console.log(e),l.tool.setUserInfo(e)})},e.click_sex=r,e.click_date=s;var f={callback:function(t){e.info.birthday=l.tool.getYmdDate(t)},disabledDates:"",from:new Date(2008,1,1),to:new Date(2016,10,30),inputDate:new Date,mondayFirst:!1,disableWeekdays:[],closeOnSelect:!1,templateType:"popup"}}]),kimama.controller("A5_3_1Ctrl",["$scope","$ionicHistory","$ionicActionSheet","ionicDatePicker","FileUploader","MainService",function(e,t,n,o,i,a){function l(t){n.show({buttons:[{text:"<img src='img/boys.png' /> "},{text:"<img src='img/default.png' /> "},{text:"<img src='img/grils.png' /> "}],titleText:"性别选择<i>x</i>",cancelText:"取消",cancel:function(){console.log("取消")},buttonClicked:function(n){switch(console.log(n),n){case 0:console.log("男"),e.babyinfo.lists[t].gender="男";break;case 1:console.log("保密"),e.babyinfo.lists[t].gender="男";break;case 2:console.log("女"),e.babyinfo.lists[t].gender="女"}return!0},cssClass:"freePopup"})}function c(e){o.openDatePicker(f),localStorage.setItem("birthdayIndex",e)}function r(){console.log(e.babyinfo.lists),d.babies=e.babyinfo.lists,a.user.updateProfile(d).then(function(e){console.log(e),a.tool.setUserInfo(e)}),console.log(d)}function s(){a.user.info().then(function(t){for(index in t.babies)t.babies[index].birthday=a.tool.getYmdDate(t.babies[index].birthday),t.babies[index].gender=a.tool.getGender(t.babies[index].gender);e.babyinfo.lists=t.babies,console.log()})}e.goBack=function(){t.goBack(-1)},e.addbaby=!0,e.babyinfo={lists:[]};var d={babies:[],delivery_phonenum:"",delivery_address:""};s(),e.submit=r,e.click_sex=l,e.click_date=c;var f={callback:function(t){var n=parseInt(localStorage.getItem("birthdayIndex"));e.babyinfo.lists[n].birthday=a.tool.getYmdDate(t)},disabledDates:"",from:new Date(2008,1,1),to:new Date(2016,10,30),inputDate:new Date,mondayFirst:!1,disableWeekdays:[],closeOnSelect:!1,templateType:"popup"}}]),kimama.controller("A5_3_2Ctrl",["$scope","$ionicHistory","$ionicActionSheet","$timeout","ionicDatePicker","FileUploader","MainService",function(e,t,n,o,i,a,l){function c(){d.babyname=e.info.nickname,d.birthday=e.info.birthday,d.gender=e.info.gender,f.babies.push(d),console.log(f),l.user.updateProfile(f).then(function(e){console.log(e),l.tool.setUserInfo(e)})}function r(){n.show({buttons:[{text:"<img src='img/boys.png' /> "},{text:"<img src='img/default.png' /> "},{text:"<img src='img/grils.png' /> "}],titleText:"性别选择<i>x</i>",cancelText:"取消",cancel:function(){console.log("取消")},buttonClicked:function(t){switch(console.log(t),t){case 0:console.log("男"),e.info.gender=t+1,e.info.sex="男";break;case 1:console.log("保密"),e.info.gender=t,e.info.sex="保密";break;case 2:console.log("女"),e.info.gender=t,e.info.sex="女"}return!0},cssClass:"freePopup"})}function s(){i.openDatePicker(u)}e.goBack=function(){t.goBack(-1)},e.info={nickname:"",birthday:"",gender:"",headimg:"",relationship:""};var d={babyname:"",birthday:"",gender:"",headimg:null,relationship:{id:38,etype:"RELATION_BABY",name:"BABY_FATHER",display_name:"宝宝的爸"}},f={babies:[]};e.submit=c,e.click_sex=r,e.click_date=s;var u={callback:function(t){e.info.birthday=l.tool.getYmdDate(t)},disabledDates:"",from:new Date(2008,1,1),to:new Date(2016,10,30),inputDate:new Date,mondayFirst:!1,disableWeekdays:[],closeOnSelect:!1,templateType:"popup"}}]),kimama.controller("A5_4Ctrl",["$scope","$ionicHistory","MainService","$location",function(e,t,n,o){function i(){a.delivery_address=e.info.delivery_address,a.delivery_name=e.info.delivery_name,a.delivery_phonenum=e.info.delivery_phonenum,console.log(a),n.user.updateProfile(a).then(function(e){console.log(e)}),o.path("/tab/a5-4-1")}e.goBack=function(){t.goBack(-1)},e.info={delivery_address:"",delivery_name:"",delivery_phonenum:""},e.submit=i;var a={delivery_address:"",delivery_name:"",delivery_phonenum:""}}]),kimama.controller("A5_4_1Ctrl",["$scope","MainService","$location","$ionicHistory",function(e,t,n,o){function i(e){var t=!1;return null!=e&&""!=e||(t=!0),t}e.goBack=function(){o.goBack(-1)},e.edit=function(){n.path("/tab/a5-4")},e.info={delivery_name:"",delivery_phonenum:"",delivery_address:"",isEdit:!1},t.user.info().then(function(t){e.info.delivery_name=t.delivery_name,e.info.delivery_phonenum=t.delivery_phonenum,e.info.delivery_address=t.delivery_address,(i(t.delivery_name)||i(t.delivery_phonenum)||i(t.delivery_address))&&(isEdit=!0)})}]),kimama.controller("A6Ctrl",["$scope","$ionicHistory","MainService","$location",function(e,t,n,o){function i(t){for(var n=0;n<e.choice.length;n++)e.choice[n]=!1;e.choice[t]=!0,r.on_cat=c[t]}function a(){r.title=e.htmlContent.title,r.desc=e.htmlContent.content,void 0!=e.htmlContent.title&&""!=e.htmlContent.title?n.user.createArticle(r).then(function(e){console.log(e),o.path("/tab/a5-1")}):alert("标题不能为空")}function l(){t.goBack(-1)}var c=["TIPS_ZERO_TWO","TIPS_THREE_FOUR","TIPS_FIVE_SIX","TIPS_SEVEN_EIGHT"],r={title:"",desc:"",on_cat:c[0]};e.htmlContent={title:"",content:""},e.goBack=l,e.choice=[!0,!1,!1,!1],e.publish=a,e.change=function(e){i(e)}}]),kimama.controller("A6_1Ctrl",["$scope","$ionicHistory","MainService","$location",function(e,t,n,o){function i(t){for(var n=0;n<e.choice.length;n++)e.choice[n]=!1;e.choice[t]=!0,r.on_cat=c[t],console.log(r)}function a(){r.title=e.htmlContent.title,r.desc=e.htmlContent.content,void 0!=e.htmlContent.title&&""!=e.htmlContent.title?n.user.createArticle(r).then(function(e){console.log(e),o.path("/tab/a5-1")}):alert("标题不能为空")}function l(){t.goBack(-1)}var c=["TRAVEL_ZERO_TWO","TRAVEL_THREE_FOUR","TRAVEL_FIVE_SIX","TRAVEL_SEVEN_EIGHT"],r={title:"",desc:"",on_cat:c[0]};e.htmlContent={title:"",content:""},e.goBack=l,e.choice=[!0,!1,!1,!1],e.publish=a,e.change=function(e){i(e)}}]),kimama.controller("A6_2Ctrl",["$scope","$ionicHistory","MainService","$location",function(e,t,n,o){function i(t){for(var n=0;n<e.choice.length;n++)e.choice[n]=!1;e.choice[t]=!0,r.on_cat=c[t],console.log(r)}function a(){r.title=e.htmlContent.title,r.desc=e.htmlContent.content,void 0!=e.htmlContent.title&&""!=e.htmlContent.title?n.user.createArticle(r).then(function(e){console.log(e),o.path("/tab/a5-1")}):alert("标题不能为空")}function l(){t.goBack(-1)}var c=["ANSWER_ZERO_TWO","ANSWER_THREE_FOUR","ANSWER_FIVE_SIX","ANSWER_SEVEN_EIGHT"],r={title:"",desc:"",on_cat:c[0]};e.htmlContent={title:"",content:""},e.goBack=l,e.choice=[!0,!1,!1,!1],e.publish=a,e.change=function(e){i(e)}}]),kimama.controller("B1Ctrl",["$scope","MainService",function(e,t){e.info={catName:"STARS",lists:[],desc:"",page:1,limit:10,loadMore:null,domore:!1};({catName:e.info.catName,limit:e.info.limit,page:e.info.page});e.info.loadMore=function(){t.content.lists({catName:e.info.catName,limit:e.info.limit,page:e.info.page}).then(function(n){if(n.lists.length<1)return e.info.domore=!0,void e.$broadcast("scroll.infiniteScrollComplete");for(index in n.lists)n.lists[index].desc=t.tool.toWrapStr(n.lists[index].desc,40),n.lists[index].created_dt=t.tool.timeStr(n.lists[index].created_dt);e.info.lists.push.apply(e.info.lists,n.lists),e.info.page++,console.log(e.info.lists),e.$broadcast("scroll.infiniteScrollComplete")})}}]),kimama.controller("B1_1Ctrl",["$scope","$ionicHistory","$stateParams","MainService",function(e,t,n,o){e.goBack=function(){t.goBack(-1)},e.detail={content:""};var i={id:n.id};o.content.detail(i).then(function(t){t.created_dt=o.tool.getFullDate(t.created_dt),e.detail.content=t,console.log(e.detail.content),wx.ready(function(){wx.onMenuShareTimeline({title:e.detail.content.title,link:e.detail.content.share_link,imgUrl:"",success:function(){},cancel:function(){}})})})}]),kimama.controller("B2Ctrl",["$scope","MainService",function(e,t){e.info={catName:"EXPERT_GUIDANCE",lists:[],desc:"",page:1,limit:10,loadMore:null,domore:!1};({catName:e.info.catName,limit:e.info.limit,page:e.info.page});e.info.loadMore=function(){t.content.lists({catName:e.info.catName,limit:e.info.limit,page:e.info.page}).then(function(n){if(console.log(n),n.lists.length<1)return e.info.domore=!0,void e.$broadcast("scroll.infiniteScrollComplete");for(index in n.lists)n.lists[index].desc=t.tool.toWrapStr(n.lists[index].desc,40),n.lists[index].created_dt=t.tool.getFullDate(n.lists[index].created_dt);e.info.lists.push.apply(e.info.lists,n.lists),e.info.page++,e.$broadcast("scroll.infiniteScrollComplete")})}}]),kimama.controller("B2_1Ctrl",["$scope","$ionicHistory","$stateParams","MainService",function(e,t,n,o){e.goBack=function(){t.goBack(-1)},e.share=function(){alert("分享的接口")},e.detail={content:""};var i={id:n.id};o.content.detail(i).then(function(t){t.created_dt=o.tool.getYmdDate(t.created_dt),e.detail.content=t,console.log(e.detail.content),wx.ready(function(){wx.onMenuShareTimeline({title:e.detail.content.title,link:e.detail.content.share_link,imgUrl:"",success:function(){},cancel:function(){}})})})}]),kimama.controller("B3Ctrl",["$scope","MainService",function(e,t){e.info={catName:"PARENTING_TIPS",lists:[],desc:"",page:1,limit:10,loadMore:null,domore:!1,title:"育儿心得"};({catName:e.info.catName,limit:e.info.limit,page:e.info.page});e.info.loadMore=function(){t.content.lists({catName:e.info.catName,limit:e.info.limit,page:e.info.page}).then(function(n){if(n.lists.length<1)return e.info.domore=!0,void e.$broadcast("scroll.infiniteScrollComplete");for(index in n.lists)n.lists[index].desc=t.tool.toWrapStr(n.lists[index].desc,40),n.lists[index].created_dt=t.tool.getFullDate(n.lists[index].created_dt);e.info.lists.push.apply(e.info.lists,n.lists),e.info.page++,console.log(e.info.lists),e.$broadcast("scroll.infiniteScrollComplete")})}}]),kimama.controller("B3_1Ctrl",["$scope","$ionicHistory","$stateParams","MainService",function(e,t,n,o){e.detail={content:""};var i={id:n.id};o.content.detail(i).then(function(t){t.created_dt=o.tool.getYmdDate(t.created_dt),e.detail.content=t,console.log(e.detail.content),wx.ready(function(){wx.onMenuShareTimeline({title:e.detail.content.title,link:e.detail.content.share_link,imgUrl:"",success:function(){},cancel:function(){}})})}),e.goBack=function(){t.goBack(-1)},e.share=function(){alert("分享的接口")}}]),kimama.controller("B4Ctrl",["$scope","MainService",function(e,t){e.info={catName:"FAMILY_TRAVEL",lists:[],desc:"",page:1,limit:10,loadMore:null,domore:!1,title:"亲子游"};({catName:e.info.catName,limit:e.info.limit,page:e.info.page});e.info.loadMore=function(){t.content.lists({catName:e.info.catName,limit:e.info.limit,page:e.info.page}).then(function(n){if(n.lists.length<1)return e.info.domore=!0,void e.$broadcast("scroll.infiniteScrollComplete");for(index in n.lists)n.lists[index].desc=t.tool.toWrapStr(n.lists[index].desc,40),n.lists[index].created_dt=t.tool.getFullDate(n.lists[index].created_dt);e.info.lists.push.apply(e.info.lists,n.lists),e.info.page++,console.log(e.info.lists),e.$broadcast("scroll.infiniteScrollComplete")})}}]),kimama.controller("B4_1Ctrl",["$scope","$ionicHistory","$stateParams","MainService",function(e,t,n,o){e.goBack=function(){t.goBack(-1)},e.share=function(){alert("分享的接口")},e.detail={content:""};var i={id:n.id};o.content.detail(i).then(function(t){t.created_dt=o.tool.getYmdDate(t.created_dt),e.detail.content=t,console.log(e.detail.content),wx.ready(function(){wx.onMenuShareTimeline({title:e.detail.content.title,link:e.detail.content.share_link,imgUrl:"",success:function(){},cancel:function(){}})})})}]),kimama.controller("B5Ctrl",["$scope","MainService",function(e,t){e.info={catName:"MOM_ANSWER",lists:[],desc:"",page:1,limit:10,loadMore:null,domore:!1,title:"妈妈想知道"};({catName:e.info.catName,limit:e.info.limit,page:e.info.page});e.info.loadMore=function(){t.content.lists({catName:e.info.catName,limit:e.info.limit,page:e.info.page}).then(function(n){if(n.lists.length<1)return e.info.domore=!0,void e.$broadcast("scroll.infiniteScrollComplete");for(index in n.lists)n.lists[index].desc=t.tool.toWrapStr(n.lists[index].desc,40),n.lists[index].created_dt=t.tool.getFullDate(n.lists[index].created_dt);e.info.lists.push.apply(e.info.lists,n.lists),e.info.page++,console.log(e.info.lists),e.$broadcast("scroll.infiniteScrollComplete")})}}]),kimama.controller("B5_1Ctrl",["$scope","$ionicHistory","$stateParams","MainService",function(e,t,n,o){e.goBack=function(){t.goBack(-1)},e.share=function(){alert("分享的接口")},e.detail={content:""};var i={id:n.id};o.content.detail(i).then(function(t){t.created_dt=o.tool.getYmdDate(t.created_dt),e.detail.content=t,console.log(e.detail.content),wx.ready(function(){wx.onMenuShareTimeline({title:e.detail.content.title,link:e.detail.content.share_link,imgUrl:"",success:function(){},cancel:function(){}})})})}]),kimama.controller("B6Ctrl",["$scope","$ionicHistory","MainService","$location",function(e,t,n,o){function i(t){for(var n=0;n<e.choice.length;n++)e.choice[n]=!1;e.choice[t]=!0,r.on_cat=c[t]}function a(){r.title=e.htmlContent.title,r.desc=e.htmlContent.content,void 0!=e.htmlContent.title&&""!=e.htmlContent.title?n.user.createArticle(r).then(function(e){console.log(e),o.path("/tab/a5-1")}):alert("标题不能为空")}function l(){t.goBack(-1)}var c=["TIPS_ZERO_TWO","TIPS_THREE_FOUR","TIPS_FIVE_SIX","TIPS_SEVEN_EIGHT"],r={title:"",desc:"",on_cat:c[0]};e.htmlContent={title:"",content:""},e.goBack=l,e.choice=[!0,!1,!1,!1],e.publish=a,e.change=function(e){i(e)}}]),kimama.controller("B6_1Ctrl",["$scope","$ionicHistory","MainService","$location",function(e,t,n,o){function i(t){for(var n=0;n<e.choice.length;n++)e.choice[n]=!1;e.choice[t]=!0,r.on_cat=c[t],console.log(r)}function a(){r.title=e.htmlContent.title,r.desc=e.htmlContent.content,void 0!=e.htmlContent.title&&""!=e.htmlContent.title?n.user.createArticle(r).then(function(e){console.log(e),o.path("/tab/a5-1")}):alert("标题不能为空")}function l(){t.goBack(-1)}var c=["TRAVEL_ZERO_TWO","TRAVEL_THREE_FOUR","TRAVEL_FIVE_SIX","TRAVEL_SEVEN_EIGHT"],r={title:"",desc:"",on_cat:c[0]};e.htmlContent={title:"",content:""},e.goBack=l,e.choice=[!0,!1,!1,!1],e.publish=a,e.change=function(e){i(e)}}]),kimama.controller("B6_2Ctrl",["$scope","$ionicHistory","MainService","$location",function(e,t,n,o){function i(t){for(var n=0;n<e.choice.length;n++)e.choice[n]=!1;e.choice[t]=!0,r.on_cat=c[t],console.log(r)}function a(){r.title=e.htmlContent.title,r.desc=e.htmlContent.content,void 0!=e.htmlContent.title&&""!=e.htmlContent.title?n.user.createArticle(r).then(function(e){console.log(e),o.path("/tab/a5-1")}):alert("标题不能为空")}function l(){t.goBack(-1)}var c=["ANSWER_ZERO_TWO","ANSWER_THREE_FOUR","ANSWER_FIVE_SIX","ANSWER_SEVEN_EIGHT"],r={title:"",desc:"",on_cat:c[0]};e.htmlContent={title:"",content:""},e.goBack=l,e.choice=[!0,!1,!1,!1],e.publish=a,e.change=function(e){i(e)}}]),kimama.controller("C1Ctrl",function(e,t,n){function o(){n.rewards.list().then(function(e){console.log(e);for(var t={code:0,created_dt:0,id:0,in_stock_count:0,is_active:0,name:"谢谢您的参与"},n=0;n<e.length;n++)s.restaraunts[2*n]=t.name,s.restaraunts[2*n+1]=e[n].name,r[2*n]=t,r[2*n+1]=e[n];console.log(r),a(),l()})}function i(){n.rewards.startDraw().then(function(e){if(console.log("code:随机抛出异常，以下为查看："),console.log(e),1==e.isDrawn)return alert("您已经参加过抽奖了"),d(1,r[0].name);if(0==e.isWon)return console.log("有异常"),d(1,r[0].name);var t=0;for(t;t<r.length;t++)if(r[t].code==e.isWon.on_reward_id.code)return console.log("pipei："+(t+1)),d(t+1,r[t].name);return console.log(t),console.log(r.length),t==r.length?(console.log("未能匹配:1"),d(1,r[0].name)):void 0})}function a(){var e=document.getElementById("wheelcanvas");if(e.getContext){var t=Math.PI/(s.restaraunts.length/2),n=e.getContext("2d");n.clearRect(0,0,422,422),n.strokeStyle="#FFBE04",n.font="16px Microsoft YaHei";for(var o=0;o<s.restaraunts.length;o++){var i=s.startAngle+o*t;n.fillStyle=s.colors[o],n.beginPath(),n.arc(211,211,s.outsideRadius,i,i+t,!1),n.arc(211,211,s.insideRadius,i+t,i,!0),n.stroke(),n.fill(),n.save(),n.fillStyle="#E5302F";var a=s.restaraunts[o],l=17;if(n.translate(211+Math.cos(i+t/2)*s.textRadius,211+Math.sin(i+t/2)*s.textRadius),n.rotate(i+t/2+Math.PI/2),a.indexOf("M")>0)for(var c=a.split("M"),r=0;r<c.length;r++)n.font=0==r?"bold 20px Microsoft YaHei":"16px Microsoft YaHei",0==r?n.fillText(c[r]+"M",-n.measureText(c[r]+"M").width/2,r*l):n.fillText(c[r],-n.measureText(c[r]).width/2,r*l);else if(a.indexOf("M")==-1&&a.length>8){a=a.substring(0,8)+"||"+a.substring(8);for(var c=a.split("||"),r=0;r<c.length;r++)n.fillText(c[r],-n.measureText(c[r]).width/2,r*l)}else n.fillText(a,-n.measureText(a).width/2,0);n.restore()}}}function l(){n.Get_Winner_List().then(function(t){console.log(t),e.winners=t.data.data,console.log(t.data.data),setInterval(c(34,90,0),1e3)})}function c(e,t,n){function o(){a=setInterval(i,t),l.scrollTop+=2}function i(){l.scrollTop%e!=0?(l.scrollTop+=2,l.scrollTop>=l.scrollHeight/2&&(l.scrollTop=0)):(clearInterval(a),setTimeout(o,n))}console.log(11111);var a,l=document.getElementById("marquee");console.log(document.getElementById("marquee")),l.getElementsByTagName("li").length<=5&&(console.log("exit"),clearInterval(c)),l.getElementsByTagName("li").length>=6&&l.getElementsByTagName("li").length<9&&(console.log("copy"),l.innerHTML+=l.innerHTML+l.innerHTML),l.scrollTop=0,setTimeout(o,n)}var r=[{name:"谢谢您的参与"}],s={restaraunts:[],colors:[],outsideRadius:186,textRadius:155,insideRadius:50,startAngle:0,bRotate:!1};nums=o(),s.colors=["#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32"];var d=function(e,t){var n=e*(360/s.restaraunts.length)-360/(2*s.restaraunts.length);n=n<270?270-n:360-n+270,$("#wheelcanvas").stopRotate(),$("#wheelcanvas").rotate({angle:0,animateTo:n+1800,duration:8e3,callback:function(){alert(t),console.log(t),s.bRotate=!s.bRotate}})};$(".pointer").click(function(){s.bRotate||(s.bRotate=!s.bRotate,i())})}),kimama.controller("C1Ctrl",function(e,t,n){function o(){n.getReList().then(function(e){console.log(e);for(var t={code:0,created_dt:0,id:0,in_stock_count:0,is_active:0,name:"谢谢您的参与"},n=0;n<e.length;n++)s.restaraunts[2*n]=t.name,s.restaraunts[2*n+1]=e[n].name,r[2*n]=t,r[2*n+1]=e[n];console.log(r),a(),l()})}function i(){n.getStartDraw().then(function(e){if(console.log("code:随机抛出异常，以下为查看："),console.log(e),1==e.isDrawn)return alert("您已经参加过抽奖了"),d(1,r[0].name);if(0==e.isWon)return console.log("有异常"),d(1,r[0].name);var t=0;for(t;t<r.length;t++)if(r[t].code==e.isWon.on_reward_id.code)return console.log("pipei："+(t+1)),d(t+1,r[t].name);return console.log(t),console.log(r.length),t==r.length?(console.log("未能匹配:1"),d(1,r[0].name)):void 0})}function a(){var e=document.getElementById("wheelcanvas");if(e.getContext){var t=Math.PI/(s.restaraunts.length/2),n=e.getContext("2d");n.clearRect(0,0,422,422),n.strokeStyle="#FFBE04",n.font="16px Microsoft YaHei";for(var o=0;o<s.restaraunts.length;o++){var i=s.startAngle+o*t;n.fillStyle=s.colors[o],n.beginPath(),n.arc(211,211,s.outsideRadius,i,i+t,!1),n.arc(211,211,s.insideRadius,i+t,i,!0),n.stroke(),n.fill(),n.save(),n.fillStyle="#E5302F";var a=s.restaraunts[o],l=17;if(n.translate(211+Math.cos(i+t/2)*s.textRadius,211+Math.sin(i+t/2)*s.textRadius),n.rotate(i+t/2+Math.PI/2),a.indexOf("M")>0)for(var c=a.split("M"),r=0;r<c.length;r++)n.font=0==r?"bold 20px Microsoft YaHei":"16px Microsoft YaHei",0==r?n.fillText(c[r]+"M",-n.measureText(c[r]+"M").width/2,r*l):n.fillText(c[r],-n.measureText(c[r]).width/2,r*l);else if(a.indexOf("M")==-1&&a.length>8){a=a.substring(0,8)+"||"+a.substring(8);for(var c=a.split("||"),r=0;r<c.length;r++)n.fillText(c[r],-n.measureText(c[r]).width/2,r*l)}else n.fillText(a,-n.measureText(a).width/2,0);n.restore()}}}function l(){n.Get_Winner_List().then(function(t){console.log(t),e.winners=t.data.data,console.log(t.data.data),setInterval(c(34,90,0),1e3)})}function c(e,t,n){function o(){a=setInterval(i,t),l.scrollTop+=2}function i(){l.scrollTop%e!=0?(l.scrollTop+=2,l.scrollTop>=l.scrollHeight/2&&(l.scrollTop=0)):(clearInterval(a),setTimeout(o,n))}console.log(11111);var a,l=document.getElementById("marquee");console.log(document.getElementById("marquee")),l.getElementsByTagName("li").length<=5&&(console.log("exit"),clearInterval(c)),l.getElementsByTagName("li").length>=6&&l.getElementsByTagName("li").length<9&&(console.log("copy"),l.innerHTML+=l.innerHTML+l.innerHTML),l.scrollTop=0,setTimeout(o,n)}var r=[{name:"谢谢您的参与"}],s={restaraunts:[],colors:[],outsideRadius:186,textRadius:155,insideRadius:50,startAngle:0,bRotate:!1};n.login("oVNnev1_m5OQXjsV_IpyhFqRBDL0").then(function(e){nums=o()}),s.colors=["#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32"];var d=function(e,t){var n=e*(360/s.restaraunts.length)-360/(2*s.restaraunts.length);n=n<270?270-n:360-n+270,$("#wheelcanvas").stopRotate(),$("#wheelcanvas").rotate({angle:0,animateTo:n+1800,duration:8e3,callback:function(){alert(t),console.log(t),s.bRotate=!s.bRotate}})};$(".pointer").click(function(){s.bRotate||(s.bRotate=!s.bRotate,i())})}),kimama.controller("C1CtrlDemo",function(e,t){function n(e,t){var n=Math.random()*(t-e+1)+e;Math.floor(n);return console.log(n),1}function o(){var e=document.getElementById("wheelcanvas");if(e.getContext){var t=Math.PI/(i.restaraunts.length/2),n=e.getContext("2d");n.clearRect(0,0,422,422),n.strokeStyle="#FFBE04",n.font="16px Microsoft YaHei";for(var o=0;o<i.restaraunts.length;o++){var a=i.startAngle+o*t;n.fillStyle=i.colors[o],n.beginPath(),n.arc(211,211,i.outsideRadius,a,a+t,!1),n.arc(211,211,i.insideRadius,a+t,a,!0),n.stroke(),n.fill(),n.save(),n.fillStyle="#E5302F";var l=i.restaraunts[o],c=17;if(n.translate(211+Math.cos(a+t/2)*i.textRadius,211+Math.sin(a+t/2)*i.textRadius),n.rotate(a+t/2+Math.PI/2),l.indexOf("M")>0)for(var r=l.split("M"),s=0;s<r.length;s++)n.font=0==s?"bold 20px Microsoft YaHei":"16px Microsoft YaHei",0==s?n.fillText(r[s]+"M",-n.measureText(r[s]+"M").width/2,s*c):n.fillText(r[s],-n.measureText(r[s]).width/2,s*c);else if(l.indexOf("M")==-1&&l.length>4){l=l.substring(0,4)+"||"+l.substring(4);for(var r=l.split("||"),s=0;s<r.length;s++)n.fillText(r[s],-n.measureText(r[s]).width/2,s*c)}else n.fillText(l,-n.measureText(l).width/2,0);n.restore()}}}e.res={data:{id:50,test:"assaaas"}};var i={restaraunts:[],colors:[],outsideRadius:186,textRadius:155,insideRadius:50,startAngle:0,bRotate:!1};i.restaraunts=["谢谢参与","咭星坞公仔","谢谢参与","咭星坞书包","谢谢参与","咭星坞公仔T恤","谢谢参与 ","红包","谢谢参与","红包"],i.colors=["#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff","#fddd32","#17b1ff"];var a=function(e,t){var n=e*(360/i.restaraunts.length)-360/(2*i.restaraunts.length);n=n<270?270-n:360-n+270,$("#wheelcanvas").stopRotate(),$("#wheelcanvas").rotate({angle:0,animateTo:n+1800,duration:8e3,callback:function(){console.log(t),i.bRotate=!i.bRotate}})};$(".pointer").click(function(){if(!i.bRotate){i.bRotate=!i.bRotate;var e=n(1,i.restaraunts.length);a(e,i.restaraunts[e-1])}}),o()}),kimama.controller("C2Ctrl",["$scope","MainService",function(e,t){function n(){t.rewards.rewardsHistory({exchange_status:e.rewards.exchange_status,is_my_exchange_history:e.rewards.exchange_status,page:e.rewards.page,limit:e.rewards.limit}).then(function(t){return console.log(t),t.length<1?(e.rewards.domore=!0,void e.$broadcast("scroll.infiniteScrollComplete")):(e.rewards.lists.push.apply(e.rewards.lists,t),e.rewards.page++,console.log(e.rewards.lists),void e.$broadcast("scroll.infiniteScrollComplete"))})}function o(n){a.name=e.rewards.delivery_name[n],a.phone=e.rewards.delivery_phonenum[n],a.address=e.rewards.delivery_address[n],a.rewardid=e.rewards.lists[n].id,console.log(a),t.rewards.exchange(a).then(function(e){console.log(e)})}function i(t){e.rewards.exchange[t]=!0}e.rewards={lists:[],loadMore:null,domore:!1,page:1,limit:5,exchange_status:"EXCH_WAITING_CONFIRM",is_my_exchange_history:!0,delivery_name:[],delivery_phonenum:[],delivery_address:[],exchange:[]};var a={rewardid:"",name:"",address:"",phone:""};e.rewards.loadMore=n,e.submit=o,e.exchange=i}]),kimama.controller("C2_1Ctrl",["$scope","MainService",function(e,t){function n(){t.rewards.rewardsHistory({exchange_status:e.rewards.exchange_status,is_my_exchange_history:e.rewards.exchange_status,page:e.rewards.page,limit:e.rewards.limit}).then(function(t){return console.log(t),t.length<1?(e.rewards.domore=!0,void e.$broadcast("scroll.infiniteScrollComplete")):(e.rewards.lists.push.apply(e.rewards.lists,t),e.rewards.page++,console.log(e.rewards.lists),void e.$broadcast("scroll.infiniteScrollComplete"))})}e.rewards={lists:[],loadMore:null,domore:!1,page:1,limit:5,exchange_status:"EXCH_DENIED",is_my_exchange_history:!0},e.rewards.loadMore=n}]),kimama.controller("C2_2Ctrl",["$scope","MainService",function(e,t){function n(){t.rewards.rewardsHistory({exchange_status:e.rewards.exchange_status,is_my_exchange_history:e.rewards.exchange_status,page:e.rewards.page,limit:e.rewards.limit}).then(function(t){return console.log(t),t.length<1?(e.rewards.domore=!0,void e.$broadcast("scroll.infiniteScrollComplete")):(e.rewards.lists.push.apply(e.rewards.lists,t),e.rewards.page++,console.log(e.rewards.lists),void e.$broadcast("scroll.infiniteScrollComplete"))})}e.rewards={lists:[],loadMore:null,domore:!1,page:1,limit:5,exchange_status:"EXCH_COMPLETED",is_my_exchange_history:!0},e.rewards.loadMore=n}]),kimama.controller("C3Ctrl",function(e,t,n,o){function i(){t.path("/tab/c3-1")}function a(){return s=parseInt(localStorage.getItem("participants"))==s?1+e.user.babies.length:localStorage.getItem("participants")}function l(){c.eventid=r.id,c.partis=a(),console.log(c),o.event.join(c).then(function(e){console.log(e)},function(e){console.log(e)})}var c={eventid:"",partis:""},r={id:"",joined_count:""},s=1;localStorage.setItem("participants",s),o.event.recent().then(function(t){console.log(t),e.activity=t.data.data,r.id=t.data.data.id,r.joined_count=t.data.data.joined_count}),e.user=o.tool.getUserInfo(),o.Get_userinfo().then(function(t){console.log(t.data.data),e.user=t.data.data}),e.theNull=!1,e.TosignUp=i,e.enter=l}),kimama.controller("C3_1Ctrl",["$ionicActionSheet","$timeout","ionicDatePicker","FileUploader","MainService","$scope","$location",function(e,t,n,o,i,a,l){function c(t){e.show({buttons:[{text:"<img src='img/boys.png' /> "},{text:"<img src='img/default.png' /> "},{text:"<img src='img/grils.png' /> "}],titleText:"性别选择<i>x</i>",cancelText:"取消",cancel:function(){console.log("取消")},buttonClicked:function(e){switch(console.log(e),
e){case 0:console.log("男"),a.babyinfo.lists[t].gender="男";break;case 1:console.log("保密"),a.babyinfo.lists[t].gender="男";break;case 2:console.log("女"),a.babyinfo.lists[t].gender="女"}return!0},cssClass:"freePopup"})}function r(e){n.openDatePicker(u),localStorage.setItem("dateIndex",e)}function s(){f.babies=a.babyinfo.lists,f.delivery_address=a.info.delivery_address,f.delivery_phonenum=a.info.delivery_phonenum;for(index in f.babies)f.babies[index].gender=i.tool.genderToNumber(f.babies[index].gender);console.log(f),i.user.updateProfile(f).then(function(e){console.log(e),i.tool.setUserInfo(e)}),l.path("/tab/c3")}function d(){i.user.info().then(function(e){for(index in e.babies)e.babies[index].birthday=i.tool.getYmdDate(e.babies[index].birthday),e.babies[index].gender=i.tool.getGender(e.babies[index].gender);a.babyinfo.lists=e.babies})}a.babyinfo={lists:[]},a.info={delivery_phonenum:"",delivery_address:""};var f={babies:[],delivery_phonenum:"",delivery_address:""};d(),a.submit=s,a.click_sex=c,a.click_date=r;var u={callback:function(e){var t=parseInt(localStorage.getItem("dateIndex"));a.babyinfo.lists[t].birthday=i.tool.getYmdDate(e)},disabledDates:"",from:new Date(2008,1,1),to:new Date(2016,10,30),inputDate:new Date,mondayFirst:!1,disableWeekdays:[],closeOnSelect:!1,templateType:"popup"}}]),kimama.controller("C3_1Ctrl",["$ionicActionSheet","$timeout","ionicDatePicker","FileUploader","MainService","$scope","$location",function(e,t,n,o,i,a,l){function c(t){e.show({buttons:[{text:"<img src='img/boys.png' /> "},{text:"<img src='img/default.png' /> "},{text:"<img src='img/grils.png' /> "}],titleText:"性别选择<i>x</i>",cancelText:"取消",cancel:function(){console.log("取消")},buttonClicked:function(e){switch(console.log(e),e){case 0:console.log("男"),a.UpdateProfile.babies[t].gender=e+1,a.UpdateProfile.babies[t].sex="男";break;case 1:console.log("保密"),a.UpdateProfile.babies[t].gender=e,a.UpdateProfile.babies[t].sex="男";break;case 2:console.log("女"),a.UpdateProfile.babies[t].gender=e,a.UpdateProfile.babies[t].sex="女"}return!0},cssClass:"freePopup"})}function r(e){n.openDatePicker(u),localStorage.setItem("dateIndex",e)}function s(){for(index in a.UpdateProfile.babies)d.gender=a.UpdateProfile.babies[index].gender,d.babyname=a.UpdateProfile.babies[index].babyname,d.babyname=a.UpdateProfile.babies[index].babyname,d.birthday=a.UpdateProfile.babies[index].birthday,f.babies.push(d);console.log(f),localStorage.setItem("participants",2+a.UpdateProfile.babies.length),l.path("/tab/c3")}a.hide_baby_btn=!1;var d={babyname:"",gender:"1",birthday:"",relationship:{id:38,etype:"RELATION_BABY",name:"BABY_FATHER",display_name:"宝宝的爸"}},f={babies:[],delivery_phonenum:"",delivery_address:""};a.UpdateProfile={babies:[{babyname:"",gender:"",birthday:" ",relationship:{id:38,etype:"RELATION_BABY",name:"BABY_FATHER",display_name:"宝宝的爸"}}]},a.click_sex=c,a.click_date=r,a.addBaby=addBaby,a.submit=s;var u={callback:function(e){var t=parseInt(localStorage.getItem("dateIndex"));a.UpdateProfile.babies[t].birthday=i.tool.getYmdDate(e)},disabledDates:"",from:new Date(2008,1,1),to:new Date(2016,10,30),inputDate:new Date,mondayFirst:!1,disableWeekdays:[],closeOnSelect:!1,templateType:"popup"}}]),kimama.controller("A",function(e,t,n,o){e.A3=o.getA3info(),e.A2=o.getA2info(),e.A1=o.getA1info(),e.A4=o.getA4info()}).controller("B",function(e,t,n,o){e.age=1,e.B1=o.getB1info(),e.clickage=function(t){e.age=t}}).controller("SharesDetailCtrl",function(e,t,n){e.chat=n.get(t.chatId)}).controller("ScoresCtrl",function(e){e.selectedTab="tab1",e.chTab=function(t){e.selectedTab=t},e.settings={enableFriends:!0}});